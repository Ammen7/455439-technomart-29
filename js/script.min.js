const mapOpen=document.querySelector(".map-popup-open"),mapPopup=document.querySelector(".map-popup"),mapButtonClose=document.querySelector(".map-popup-button-close");mapOpen&&(mapOpen.addEventListener("click",function(a){a.preventDefault(),mapPopup.classList.add("show")}),mapButtonClose.addEventListener("click",function(a){a.preventDefault(),mapPopup.classList.remove("show")}),window.addEventListener("keydown",function(a){27===a.keyCode&&mapPopup.classList.contains("show")&&(a.preventDefault(),mapPopup.classList.remove("show"))}));const feedbackPopup=document.querySelector(".feedback-form"),feedbackButtonClose=document.querySelector(".feedback-form-button-close"),feedbackButtonOpen=document.querySelector(".feedback-form-open"),feedbackFieldName=document.querySelector("[name = name]"),feedbackFieldEmail=document.querySelector("[name = email]"),feedbackFieldMessage=document.querySelector("[name = message]"),feedbackForm=document.querySelector(".feedback-form form");let isStorageSupport=!0,storageName="",storageEmail="";try{storageName=localStorage.getItem("name"),storageEmail=localStorage.getItem("email")}catch(a){isStorageSupport=!1}feedbackPopup&&(feedbackButtonOpen.addEventListener("click",function(a){a.preventDefault(),feedbackPopup.classList.add("show"),storageName&&(feedbackFieldName.value=storageName),storageEmail&&(feedbackFieldEmail.value=storageEmail),feedbackFieldMessage.focus()}),feedbackButtonClose.addEventListener("click",function(a){a.preventDefault(),feedbackPopup.classList.remove("show"),feedbackPopup.classList.remove("modal-error")}),feedbackForm.addEventListener("submit",function(a){feedbackFieldName.value&&feedbackFieldEmail.value&&feedbackFieldMessage.value?isStorageSupport&&(localStorage.setItem("name",feedbackFieldName.value),localStorage.setItem("email",feedbackFieldEmail.value)):(a.preventDefault(),feedbackPopup.classList.remove("show"),feedbackPopup.classList.remove("modal-error"),feedbackPopup.offsetWidth=feedbackPopup.offsetWidth,feedbackPopup.classList.add("modal-error"))}),window.addEventListener("keydown",function(a){27===a.keyCode&&feedbackPopup.classList.contains("show")&&(a.preventDefault(),feedbackPopup.classList.remove("show"),feedbackPopup.classList.remove("modal-error"))}));const cartPopup=document.querySelector(".cart-popup"),cartButtonClose=document.querySelector(".cart-popup-button-close"),cartButtonContinue=document.querySelector(".cart-popup-continue"),cartButtonOpenList=document.querySelectorAll(".popup-button-buy");for(i=0;i<cartButtonOpenList.length;i++)cartButtonOpenList[i].addEventListener("click",function(a){a.preventDefault(),cartPopup.classList.add("show")});cartButtonClose.addEventListener("click",function(a){a.preventDefault(),cartPopup.classList.remove("show")}),cartButtonContinue.addEventListener("click",function(a){a.preventDefault(),cartPopup.classList.remove("show")}),window.addEventListener("keydown",function(a){27===a.keyCode&&cartPopup.classList.contains("show")&&(a.preventDefault(),cartPopup.classList.remove("show"))});
